/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/dynamicgraph_screen/DynamicGraphViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

DynamicGraphViewBase::DynamicGraphViewBase() :
    buttonCallback(this, &DynamicGraphViewBase::buttonCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setBitmap(touchgfx::Bitmap(BITMAP_BG_GREENGRADIENT_ID));
    background.setPosition(0, 0, 480, 272);
    background.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    add(background);

    dynamicGraphGreen.setPosition(130, 32, 330, 209);
    dynamicGraphGreen.setScale(1);
    dynamicGraphGreen.setGraphAreaMargin(0, 20, 10, 20);
    dynamicGraphGreen.setGraphAreaPadding(10, 20, 0, 10);
    dynamicGraphGreen.setGraphRangeY(-20, 100);
    dynamicGraphGreenMajorXAxisLabel.setInterval(10);
    dynamicGraphGreenMajorXAxisLabel.setLabelTypedText(touchgfx::TypedText(T___SINGLEUSE_EYOQ));
    dynamicGraphGreenMajorXAxisLabel.setColor(touchgfx::Color::getColorFromRGB(62, 68, 178));
    dynamicGraphGreenMajorXAxisLabel.setScale(1);
    dynamicGraphGreen.addBottomElement(dynamicGraphGreenMajorXAxisLabel);

    dynamicGraphGreenMajorYAxisLabel.setInterval(20);
    dynamicGraphGreenMajorYAxisLabel.setLabelTypedText(touchgfx::TypedText(T___SINGLEUSE_WUTU));
    dynamicGraphGreenMajorYAxisLabel.setColor(touchgfx::Color::getColorFromRGB(62, 68, 178));
    dynamicGraphGreenMajorYAxisLabel.setScale(1);
    dynamicGraphGreen.addLeftElement(dynamicGraphGreenMajorYAxisLabel);

    dynamicGraphGreenLine1Painter.setColor(touchgfx::Color::getColorFromRGB(82, 184, 4));
    dynamicGraphGreenLine1.setPainter(dynamicGraphGreenLine1Painter);
    dynamicGraphGreenLine1.setLineWidth(2);
    dynamicGraphGreen.addGraphElement(dynamicGraphGreenLine1);

    dynamicGraphGreenDots1Painter.setColor(touchgfx::Color::getColorFromRGB(245, 118, 27));
    dynamicGraphGreenDots1.setPainter(dynamicGraphGreenDots1Painter);
    dynamicGraphGreenDots1.setDotWidth(4);
    dynamicGraphGreen.addGraphElement(dynamicGraphGreenDots1);


    add(dynamicGraphGreen);

    dynamicGraphBlue.setPosition(130, 32, 330, 209);
    dynamicGraphBlue.setScale(1);
    dynamicGraphBlue.setGraphAreaMargin(0, 20, 10, 20);
    dynamicGraphBlue.setGraphAreaPadding(10, 20, 0, 10);
    dynamicGraphBlue.setGraphRangeY(-20, 100);
    dynamicGraphBlueMajorXAxisLabel.setInterval(10);
    dynamicGraphBlueMajorXAxisLabel.setLabelTypedText(touchgfx::TypedText(T___SINGLEUSE_6J9H));
    dynamicGraphBlueMajorXAxisLabel.setColor(touchgfx::Color::getColorFromRGB(62, 68, 178));
    dynamicGraphBlueMajorXAxisLabel.setScale(1);
    dynamicGraphBlue.addBottomElement(dynamicGraphBlueMajorXAxisLabel);

    dynamicGraphBlueMajorYAxisLabel.setInterval(20);
    dynamicGraphBlueMajorYAxisLabel.setLabelTypedText(touchgfx::TypedText(T___SINGLEUSE_GWRV));
    dynamicGraphBlueMajorYAxisLabel.setColor(touchgfx::Color::getColorFromRGB(62, 68, 178));
    dynamicGraphBlueMajorYAxisLabel.setScale(1);
    dynamicGraphBlue.addLeftElement(dynamicGraphBlueMajorYAxisLabel);

    dynamicGraphBlueDots1Painter.setColor(touchgfx::Color::getColorFromRGB(245, 5, 5));
    dynamicGraphBlueDots1.setPainter(dynamicGraphBlueDots1Painter);
    dynamicGraphBlueDots1.setDotWidth(4);
    dynamicGraphBlue.addGraphElement(dynamicGraphBlueDots1);

    dynamicGraphBlueLine1Painter.setColor(touchgfx::Color::getColorFromRGB(62, 68, 178));
    dynamicGraphBlueLine1.setPainter(dynamicGraphBlueLine1Painter);
    dynamicGraphBlueLine1.setLineWidth(2);
    dynamicGraphBlue.addGraphElement(dynamicGraphBlueLine1);

    add(dynamicGraphBlue);

    toggleGreen.setXY(39, 82);
    toggleGreen.setBitmaps(touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_TOGGLE_TOGGLE_OFF_50_50_52B804_SVG_ID), touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_TOGGLE_TOGGLE_ON_50_50_52B804_SVG_ID));
    toggleGreen.setAction(buttonCallback);
    add(toggleGreen);

    toggleBlue.setXY(39, 32);
    toggleBlue.setBitmaps(touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_TOGGLE_TOGGLE_OFF_50_50_3E44B2_SVG_ID), touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_TOGGLE_TOGGLE_ON_50_50_3E44B2_SVG_ID));
    toggleBlue.setAction(buttonCallback);
    add(toggleBlue);
}

DynamicGraphViewBase::~DynamicGraphViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void DynamicGraphViewBase::setupScreen()
{

}

void DynamicGraphViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &toggleBlue)
    {
        //updateBlueGraph
        //When toggleBlue clicked call virtual function
        //Call updateBlueGraph
        updateBlueGraph();
    }
    if (&src == &toggleGreen)
    {
        //updateGreenGraph
        //When toggleGreen clicked call virtual function
        //Call updateGreenGraph
        updateGreenGraph();
    }
}
